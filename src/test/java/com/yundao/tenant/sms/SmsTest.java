package com.yundao.tenant.sms;

import com.yundao.core.exception.BaseException;
import com.yundao.tenant.AbstractTest;
import com.yundao.tenant.mapper.base.BaseSmsTemplateMapper;
import com.yundao.tenant.service.sms.SmsService;
import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;

import java.util.HashMap;
import java.util.Map;

/**
 * @author jan
 * @create 2017-06-19 PM7:25
 **/

public class SmsTest extends AbstractTest {

    @Test
    public void main_Test() throws Exception {
        Map<String, Object> map = new HashMap<>();
        map.put("content", "14893,14895");
        post("/sms/msg", map);
    }

    @Test
    public void sendSms_Test() throws BaseException {


        System.out.printf(Integer.valueOf(Integer.MAX_VALUE).toString());

//        String url = BaseUrlConstant.SEND_SMS;
//        Integer tenantId = 1;
//        Map<String, Object> params = new HashMap<>(4);
//        params.put("tenantId", tenantId);
//        try {
//            Result<SmsResultDto> result = HttpUtils.post(url,params,new BaseTypeReference<Result<SmsResultDto>>(){});
//            System.out.printf("");
//        } catch (Exception e) {
//
//        }


        String mobiles1 = "13677771517,13677771518,13411111144,13333454534,14757896454,13564534321,18507777777,13678765463,15814134132,13534213423,15814313333,15986757777,15986755553,13711189992,15914137677,15986755555,15986755666,15986755810,15986755829,15914137678,13699795555,13511101240,13474101401,13101114001,15914137788,15823424232,13012112140,15914323422,13699990000,13699799999,15914311222,15914312422,15986755822,13402140021,15914137777,18665847141,15999666555,13399791500,15959576677,13112100114,13142100014,13410014101,14211124001,13410001444,13411001414,13410021001,13544140155,13100121001,13411210214,13698741258,13698563256,13012410014,13114447774,13454554004,13333333343,13333333342,13333333341,13695559666,14785889638,18544447896,15986758500,13625825801,13711145121,13714112451,18566667896,14725839641,18754697894,13666665555,13745251446,11545668911,11545668901,11545678901,13510065910,13501014141,18562346321,13121000214,13632100001,13744441740,13570284444,13333333365,13333333364,13544144444,18695364136,13333333362,18662134561,13544567456,13111288811,13111288897,13413263524,15016332112,13480756497,18855557777,13455434566,13544333344,18823759702,13700441147,13544343325,13100000009,13100000002,13333333311,18514341111,15514341111,13514341111,13511341011,13501341011,13501341111,13500341111,13420421401,13657841119,15891090096,15891090099,13698565253,13134054004,13945004504,13021405404,13454054001,13711110164,13711110163,13711110162,13711110161,13454000011,13711110160,13751110159,18999226631,13199553212,13117182233,13537548412,13820834932,13454054004,13475400124,18506555015,18506555014,18506555016,13965421000,13131313163,13171489966,13117118888,13171822222,13171842222,15013556010,15013556009,13802765733,13657840119,13475405454,13548540547,13475405474,13399791511,13399791510,13566699998,13657840114,13657840474,13578405404,18506555017,17097219507,13564054014,13477742201,13457789996,13644444444,13666666666,13544199999,13544146666,13544149999,13544155433,13117184222,13544575404,13760447215,13711110115,13655555555,18664632156,13444787541,13711110068,13430960999,13533467890,13410340103,13731303548,15294426492,13633497021,13845417382,15067303997,13653711328,15216602552,18706662399,18257573419,13216368688,13316389509,18117240809,13594696232,13906296592,18613861017,13717641501,18543217957,13819068989,13701721285,18201440606,15320509999,13604410830,13311318059,13951888657,13820095846,18602696978,18004307015,13716209608,13512807049,15259115700,13901778533,18840860898,18516589987,13811914597,13683154452,18043026072,15198287880,13588440261,18518081017,13686600267,15170003780,18678656028,13803491077,15821316887,13401116435,13857186677,18500065930,13671693759,18201763983,15010090998,18675890362,15801012928,13350679566,13840910625,18186864873,13601633429,13963681828,18642011417,13771868791,15918715097,13501086622,13901031060,18310269860,13637089587,13969783267,18622330313,13761722485,15807114792,13389958936,15088694335,18930144406,13816475651,17721311779,13504400670,13901367998,18510559084,13676836856,13991256492,18811515547,13805946231,15584313966,13312122799,13857841941,18215619987,13609241986,13958105154,18622098775,13756482001,15305770585,13011376509,13822681146,15995303161,13501566215,13906297323,18566235765,13708175595,15195891569,18817608898,13811239921,15822717766,13472702842,13901764928,15850536499,18943112333,13780172233,18010121350,13301787533,13906815146,18510651826,13564105570,15306708971,18857899837,13738870650,18962509018,13927784927,13787112118,17771786608,13601634513,13130453550,15678961618,13906291617,18817305531,18366255318,13732249133,13524587928,17301046867,15079177777,13004593971,18634305202,13821879296,13681464246,18367101666,15910837459,13526715804,13003149775,15618871606,18660017677,13693150269,15901788173,18965405603,13805811701,18116465382,13351938786,13918000728,18621181165,13615048150,18698025603,13701357791,15810537112,18964085719,13789865106,18019464580,13303710958,13909008685,18513110126,13591145559,15718880103,13892075996,13362148115,13961603158,18616720690,13610823600,15722028197,18922252581,13761920935,18031111177,13323365789,18001668477,13275072266,13868818031,18322024709,13438139055,13962975665,18622028488,13641258921,15723615853,18971002665,18252743989,13429662983,13920696508,18611290783,13602592052,15698859262,18911263335,13752098361,17757188536,13064247511,13908199400,18602812377,13602110157,15323766212,18751348337,13703010668,15907980196,18980895513,13806160885,18180632187,13355858808,15022504927,13376070063,13572525086,13628028718,15217729202,13514785865,13590341111,13475404540,13540540541,13540540045,13223667777,13533667777,13590667777,13590347777,18825253261,15814756896,13410821401,18823879192,18823879191,13612012012,13698542687,13692229698,13692229693,18823879199,13674582665,18605733421,18605733420,18605733419,18605733418,18605733417,18605733416,18605733415,18605733414,18605733413,18605733412,18605733411,18605733410,18605733409,18605733408,18605733407,18605733406,18605733405,18605733404,18605733403,18605733402,18605733401,18605733400,18605733399";

        String mobiles2 = "13677771517,13677771518,13411111144";

//        mobiles.substring(0,)

//
//        BaseSmsTemplateExample stExample = new BaseSmsTemplateExample();
//        stExample.createCriteria().andCodeEqualTo("boot.test").andIsEnableEqualTo(1);
//        List<BaseSmsTemplate> templates = baseSmsTemplateMapper.selectByExample(stExample);
//
//        SmsTemplateDto std = new SmsTemplateDto();
//        std.setCode("boot.test");
//        Map<String, String> param = new HashMap<>();
//        param.put("name", "陈先生");
//        param.put("type", "测试");
//        std.setParams(param);
//        SmsUtils.getInstance().sendToB("13590340548", std);
//
//        smsService.sendToB("13590340548", std);

    }

}
